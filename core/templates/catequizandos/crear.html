{% extends "base.html" %}

{% block title %}Registrar Nuevo Catequizando{% endblock %}

{% block content %}

<div class="row justify-content-center">
    <div class="col-xl-10">

        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2 class="fw-bold mb-0">Nuevo Ingreso</h2>
                <p class="text-muted small mb-0">Complete el formulario para registrar un nuevo catequizando.</p>
            </div>
            <a href="{% url 'catequizando_listar' %}" class="btn btn-outline-secondary btn-sm">
                <i class="bi bi-x-lg me-1"></i> Cancelar
            </a>
        </div>

        <form method="post" novalidate>
            {% csrf_token %}

            <div class="card shadow-sm border-0 rounded-4 edit-card mb-4">
                <div class="form-header bg-primary bg-opacity-10 border-bottom-0">
                    <h4 class="fw-bold text-primary mb-0"><i class="bi bi-person-circle me-2"></i>Datos del Catequizando
                    </h4>
                </div>

                <div class="card-body p-4">

                    <h6 class="text-uppercase text-muted fw-bold mb-3 small ls-1">Identidad & Nacimiento</h6>
                    <div class="row g-3 mb-4">
                        <div class="col-md-3">
                            <label class="form-label">Primer Nombre</label>
                            {{ form.primernombre }}
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Segundo Nombre</label>
                            {{ form.segundonombre }}
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Primer Apellido</label>
                            {{ form.primerapellido }}
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Segundo Apellido</label>
                            {{ form.segundoapellido }}
                        </div>
                    </div>
                    
                    <div class="row g-3 mb-4">
                        <div class="col-md-3">
                            <label class="form-label">Cédula</label>
                            {{ form.cedula }}
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Fecha de Nacimiento</label>
                            {{ form.fechanacimiento }}
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Lugar de Nacimiento</label>
                            {{ form.lugar_nacimiento }}
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Género</label>
                            {{ form.genero }}
                        </div>
                    </div>

                    

                    <hr class="text-muted opacity-25">

                    <h6 class="text-uppercase text-muted fw-bold mb-3 small ls-1 mt-4">Ubicación y Contacto</h6>
                    <div class="row g-3 mb-4">
                        <div class="col-md-6">
                            <label class="form-label">Dirección Domiciliaria</label>
                            {{ form.direccion }}
                        </div>
                        <div class="col-md-6">
                            <label class="form-label"><i class="bi bi-telephone me-1"></i> Teléfono</label>
                            {{ form.telefono }}
                            <div class="text-danger small">{{ form.telefono.errors }}</div>
                        </div>
                    </div>

                    <div class="row g-3 mb-3">
                        <div class="col-md-5">
                            <label class="form-label">Institución Educativa</label>
                            {{ form.escuelacolegio }}
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Año en Curso</label>
                            {{ form.anioencurso }}
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">N° Hijo</label>
                            {{ form.numerohijo }}
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">N° Hermanos</label>
                            {{ form.numerohermanos }}
                        </div>
                    </div>
                    
                    <hr class="text-muted opacity-25">

                    <h6 class="text-uppercase text-muted fw-bold mb-3 small ls-1 mt-4">Salud</h6>
                    

                    <div class="row g-3 mb-3">
                        <div class="col-md-3">
                            <label class="form-label text-danger">Tipo de Sangre</label>
                            {{ form.tiposangre }}
                        </div>
                        <div class="col-md-5">
                            <label class="form-label text-danger">Contacto de Emergencia</label>
                            {{ form.contacto_emergencia }}
                        </div>
                        <div class="col-md-4">
                            <label class="form-label text-danger">Alergias / Condiciones</label>
                            {{ form.alergia }}
                        </div>
                    </div>

                    

                    <div class="mt-3">
                        <label class="form-label">Comentarios Adicionales</label>
                        {{ form.comentario }}
                    </div>

                </div>
            </div>

            <div class="card shadow-sm border-0 rounded-4 edit-card mb-4">
                <div class="form-header bg-info bg-opacity-10 border-bottom-0">
                    <h4 class="fw-bold text-info mb-0"><i class="bi bi-droplet-fill me-2"></i>Fe de Bautismo</h4>
                </div>
                <div class="card-body p-4">
                    <div class="row g-3 mb-3">
                        <div class="col-md-4">
                            <label class="form-label">Ciudad de Bautismo</label>
                            {{ form.ciudadbautismo }}
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Parroquia</label>
                            {{ form.parroquiabautismoid }}
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Fecha</label>
                            {{ form.fechabautismo }}
                        </div>
                    </div>
                    <div class="row g-3 mb-3">
                        <div class="col-md-3">
                            <label class="form-label">Tomo</label>
                            {{ form.numerotomo }}
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Página</label>
                            {{ form.paginatomo }}
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Sacerdote</label>
                            {{ form.sacerdotebautismo }}
                        </div>
                    </div>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">Padrino</label>
                            {{ form.padrinobautismo }}
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Madrina</label>
                            {{ form.madrinabautismo }}
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm border-0 rounded-4 edit-card mb-5">
                <div class="form-header bg-secondary bg-opacity-10 border-bottom-0">
                    <h4 class="fw-bold text-secondary mb-0"><i class="bi bi-people-fill me-2"></i>Datos Familiares</h4>
                </div>

                <div class="card-body p-4">
                    <div class="row g-5">

                        <div class="col-lg-6 border-end-lg">
                            <h5 class="fw-bold text-dark mb-3"><i class="bi bi-gender-male text-primary me-2"></i>Datos
                                del Padre</h5>

                            <div class="row mb-2">
                                <div class="col-md-6">
                                    <label class="small text-muted">Nombres</label>
                                    {{ form.nombrespadre }}
                                </div>
                                <div class="col-md-6">
                                    <label class="small text-muted">Apellidos</label>
                                    {{ form.apellidospadre }}
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-md-6">
                                    <label class="small text-muted">Teléfono</label>
                                    {{ form.telefonopadre }}
                                </div>
                                <div class="col-md-6">
                                    <label class="small text-muted">Ocupación</label>
                                    {{ form.ocupacionpadre }}
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <h5 class="fw-bold text-dark mb-3"><i class="bi bi-gender-female text-danger me-2"></i>Datos
                                de la Madre</h5>

                            <div class="row g-2 mb-2">
                                <!-- Removed Cedula and F. Nacimiento -->
                            </div>
                            <div class="row mb-2">
                                <div class="col-md-6">
                                    <label class="small text-muted">Nombres</label>
                                    {{ form.nombresmadre }}
                                </div>
                                <div class="col-md-6">
                                    <label class="small text-muted">Apellidos</label>
                                    {{ form.apellidosmadre }}
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-6">
                                    <label class="small text-muted">Teléfono</label>
                                    {{ form.telefonomadre }}
                                </div>
                                <div class="col-md-6">
                                    <label class="small text-muted">Ocupación</label>
                                    {{ form.ocupacionmadre }}
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-5">
                <a href="{% url 'catequizando_listar' %}" class="btn btn-light btn-lg px-4 border fw-bold">Cancelar</a>
                <button type="submit" class="btn btn-primary btn-lg px-5 fw-bold shadow">
                    <i class="bi bi-save2 me-2"></i> Guardar Registro
                </button>
            </div>

        </form>
    </div>
</div>

{% endblock %}